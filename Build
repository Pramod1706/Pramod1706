---
- name: Retrieve and print Jira ticket details
  hosts: localhost
  tasks:
    - name: Get Jira ticket details using curl
      shell: |
        curl -u {{ jira_username }}:{{ jira_api_token }} \
             -H "Content-Type: application/json" \
             -X GET "https://your-jira-instance.atlassian.net/rest/api/2/issue/{{ ticket_id }}"
      register: curl_output
      no_log: true

    - name: Parse the JSON response from Jira
      set_fact:
        jira_data: "{{ curl_output.stdout | from_json }}"

    - name: Print the Jira ticket status
      debug:
        msg: "The status of the Jira ticket is: {{ jira_data.fields.status.name }}"
