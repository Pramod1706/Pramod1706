pipeline {
    agent any

    environment {
        VERSION = '1.56.78-1.0.6' // Example value, replace with your actual variable
    }

    stages {
        stage('Extract Version') {
            steps {
                script {
                    if (VERSION) {
                        def extractedVersion = sh(script: """
                            echo "${VERSION}" | sed 's/-.*//'
                        """, returnStdout: true).trim()
                        
                        echo "Extracted Version: ${extractedVersion}"
                    } else {
                        echo "VERSION is null or empty"
                    }
                }
            }
        }
    }
}
